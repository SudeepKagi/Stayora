<% layout('layouts/boilerplate') -%>

<div class="container py-5" style="max-width: 900px;">

  <!-- Header -->
  <div class="section-header mb-4">
    <h2 class="section-title">Edit Stay</h2>
    <p class="section-subtitle">
      Update your eco-friendly stay details
    </p>
  </div>

  <!-- Edit Form -->
  <form action="/listings/<%= list._id %>?_method=PUT" method="POST">

    <div class="row g-4">

      <!-- Title -->
      <div class="col-md-6">
        <label class="form-label fw-semibold">Title</label>
        <input
          type="text"
          class="form-control rounded-pill"
          name="listing[title]"
          value="<%= list.title %>"
          required
        />
      </div>

      <!-- Price -->
      <div class="col-md-6">
        <label class="form-label fw-semibold">Price (â‚¹ / night)</label>
        <input
          type="number"
          class="form-control rounded-pill"
          name="listing[price]"
          value="<%= list.price %>"
          required
        />
      </div>

      <!-- Image -->
      <div class="col-12">
        <label class="form-label fw-semibold">Image URL</label>
        <input
          type="text"
          class="form-control rounded-pill"
          name="listing[image]"
          value="<%= list.image %>"
        />
      </div>

      <!-- Image Preview -->
      <div class="col-12 text-center">
        <img
          src="<%= list.image %>"
          alt="Listing image"
          class="img-fluid rounded-4 shadow-sm"
          style="max-height: 250px; object-fit: cover;"
        />
      </div>

      <!-- Description -->
      <div class="col-12">
        <label class="form-label fw-semibold">Description</label>
        <textarea
          class="form-control rounded-4"
          rows="4"
          name="listing[description]"
          required
        ><%= list.description %></textarea>
      </div>

      <!-- Location -->
      <div class="col-md-6">
        <label class="form-label fw-semibold">Location</label>
        <input
          type="text"
          class="form-control rounded-pill"
          name="listing[location]"
          value="<%= list.location %>"
          required
        />
      </div>

      <!-- Country -->
      <div class="col-md-6">
        <label class="form-label fw-semibold">Country</label>
        <input
          type="text"
          class="form-control rounded-pill"
          name="listing[country]"
          value="<%= list.country %>"
          required
        />
      </div>

    </div>

    <!-- Actions -->
    <div class="d-flex justify-content-between mt-5">
      <a href="/listings/<%= list._id %>" class="btn btn-outline-secondary rounded-pill px-4">
        Cancel
      </a>
      <button class="btn btn-success rounded-pill px-5">
        Update Stay
      </button>
    </div>

  </form>

</div>
