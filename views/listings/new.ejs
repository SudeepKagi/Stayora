<% layout('layouts/boilerplate') -%>

<div class="container py-5" style="max-width: 900px">
  <!-- Header -->
  <div class="section-header mb-4">
    <h2 class="section-title">Add New Stay</h2>
    <p class="section-subtitle">Create a new eco-friendly stay listing</p>
  </div>

  <!-- Form -->
  <form
    action="/listings"
    method="POST"
    class="needs-validation"
    novalidate
    enctype="multipart/form-data"
  >
    <div class="row g-4">
      <!-- Title -->
      <div class="col-md-6">
        <label class="form-label fw-semibold">Title</label>
        <input
          type="text"
          name="listing[title]"
          class="form-control rounded-pill"
          placeholder="Enter stay title"
          required
        />
        <div class="invalid-feedback">Please enter a title.</div>
      </div>

      <!-- Price -->
      <div class="col-md-6">
        <label class="form-label fw-semibold">Price per night (â‚¹)</label>
        <input
          type="number"
          name="listing[price]"
          class="form-control rounded-pill"
          placeholder="Enter price"
          min="1"
          required
        />
        <div class="invalid-feedback">Please enter a valid price.</div>
      </div>

      <!-- âœ… CATEGORY (NEW) -->
      <div class="col-md-6">
        <label class="form-label fw-semibold">Category</label>
        <select
          name="listing[category]"
          class="form-select rounded-pill"
          required
        >
          <option value="" disabled selected>Select a category</option>
          <option value="Forest">ğŸŒ² Forest</option>
          <option value="Mountain">ğŸ” Mountain</option>
          <option value="Beach">ğŸ– Beach</option>
          <option value="Desert">ğŸœ Desert</option>
          <option value="Farm">ğŸŒ¾ Farm</option>
          <option value="Luxury">âœ¨ Luxury</option>
          <option value="Camping">ğŸ• Camping</option>
        </select>
        <div class="invalid-feedback">Please select a category.</div>
      </div>

      <!-- Image -->
      <div class="col-12">
        <label class="form-label fw-semibold">Upload Image</label>
        <input
          type="file"
          name="listing[image]"
          class="form-control rounded-pill"
          required
        />
      </div>

      <!-- Description -->
      <div class="col-12">
        <label class="form-label fw-semibold">Description</label>
        <textarea
          name="listing[description]"
          rows="4"
          class="form-control rounded-4"
          placeholder="Describe the stay"
          required
        ></textarea>
        <div class="invalid-feedback">Please add a description.</div>
      </div>

      <!-- Location -->
      <div class="col-md-6">
        <label class="form-label fw-semibold">Location</label>
        <input
          type="text"
          name="listing[location]"
          class="form-control rounded-pill"
          placeholder="Enter location"
          required
        />
        <div class="invalid-feedback">Please enter a location.</div>
      </div>

      <!-- Country -->
      <div class="col-md-6">
        <label class="form-label fw-semibold">Country</label>
        <input
          type="text"
          name="listing[country]"
          class="form-control rounded-pill"
          placeholder="Enter country"
          required
        />
        <div class="invalid-feedback">Please enter a country.</div>
      </div>
    </div>

    <!-- Actions -->
    <div class="d-flex justify-content-between align-items-center mt-5">
      <a href="/listings" class="btn btn-outline-secondary rounded-pill px-4">
        Cancel
      </a>

      <button class="btn btn-success rounded-pill px-5">Add Stay</button>
    </div>
  </form>
</div>
