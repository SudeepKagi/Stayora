<% layout('layouts/boilerplate') -%>

<section class="form-section">
  <div class="form-container">
    <!-- Header -->
    <div style="margin-bottom: 40px">
      <a
        href="/listings"
        style="
          color: var(--accent-orange);
          text-decoration: none;
          display: inline-flex;
          align-items: center;
          gap: 8px;
          font-weight: 600;
          font-size: 0.9rem;
          margin-bottom: 20px;
        "
      >
        <i class="fa-solid fa-arrow-left"></i> Back to Properties
      </a>
      <h1
        style="
          font-size: 2.5rem;
          font-weight: 800;
          color: var(--text-white);
          margin-bottom: 10px;
        "
      >
        Add New Property
      </h1>
      <p style="color: var(--text-gray); font-size: 1.05rem">
        List your luxury accommodation
      </p>
    </div>

    <!-- Form Card -->
    <div class="form-card">
      <form
        action="/listings"
        method="POST"
        enctype="multipart/form-data"
        class="needs-validation"
        novalidate
      >
        <div style="display: grid; gap: 25px">
          <!-- Title -->
          <div class="form-group-luxury">
            <label class="form-label-luxury">PROPERTY TITLE *</label>
            <input
              type="text"
              name="listing[title]"
              class="form-control-luxury"
              placeholder="e.g., Mountain Villa with Panoramic Views"
              required
            />
            <div
              class="invalid-feedback"
              style="color: #ef4444; font-size: 0.85rem; margin-top: 8px"
            >
              Title is required
            </div>
          </div>

          <!-- Description -->
          <div class="form-group-luxury">
            <label class="form-label-luxury">DESCRIPTION *</label>
            <textarea
              name="listing[description]"
              class="form-control-luxury"
              rows="5"
              placeholder="Describe your property in detail..."
              required
              style="resize: vertical"
            ></textarea>
            <div
              class="invalid-feedback"
              style="color: #ef4444; font-size: 0.85rem; margin-top: 8px"
            >
              Description is required
            </div>
          </div>

          <!-- Image -->
          <div class="form-group-luxury">
            <label class="form-label-luxury">PROPERTY IMAGE *</label>
            <input
              type="file"
              name="listing[image]"
              class="form-control-luxury"
              accept="image/*"
              required
              style="padding: 12px"
            />
            <small
              style="
                color: var(--text-gray);
                font-size: 0.85rem;
                display: block;
                margin-top: 8px;
              "
            >
              Upload high-quality images (JPG, PNG)
            </small>
            <div
              class="invalid-feedback"
              style="color: #ef4444; font-size: 0.85rem; margin-top: 8px"
            >
              Please upload an image
            </div>
          </div>

          <!-- Price -->
          <div class="form-group-luxury">
            <label class="form-label-luxury">PRICE PER NIGHT (â‚¹) *</label>
            <input
              type="number"
              name="listing[price]"
              class="form-control-luxury"
              placeholder="10000"
              min="1"
              required
            />
            <div
              class="invalid-feedback"
              style="color: #ef4444; font-size: 0.85rem; margin-top: 8px"
            >
              Price must be greater than 0
            </div>
          </div>

          <!-- Location & Country -->
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px">
            <div class="form-group-luxury">
              <label class="form-label-luxury">LOCATION *</label>
              <input
                type="text"
                name="listing[location]"
                class="form-control-luxury"
                placeholder="e.g., Manali"
                required
              />
              <div
                class="invalid-feedback"
                style="color: #ef4444; font-size: 0.85rem; margin-top: 8px"
              >
                Location is required
              </div>
            </div>

            <div class="form-group-luxury">
              <label class="form-label-luxury">COUNTRY *</label>
              <input
                type="text"
                name="listing[country]"
                class="form-control-luxury"
                placeholder="e.g., India"
                required
              />
              <div
                class="invalid-feedback"
                style="color: #ef4444; font-size: 0.85rem; margin-top: 8px"
              >
                Country is required
              </div>
            </div>
          </div>

          <!-- Category -->
          <div class="form-group-luxury">
            <label class="form-label-luxury">CATEGORY *</label>
            <select
              name="listing[category]"
              class="form-control-luxury"
              required
              style="cursor: pointer"
            >
              <option value="">Select Category</option>
              <option value="Mountain">Mountain</option>
              <option value="Beach">Beach</option>
              <option value="Forest">Forest</option>
              <option value="Desert">Desert</option>
              <option value="Farm">Farm</option>
              <option value="Luxury">Luxury</option>
              <option value="Camping">Camping</option>
            </select>
            <div
              class="invalid-feedback"
              style="color: #ef4444; font-size: 0.85rem; margin-top: 8px"
            >
              Please select a category
            </div>
          </div>

          <!-- Submit Button -->
          <button
            type="submit"
            class="btn btn-success btn-large"
            style="margin-top: 10px"
          >
            <i class="fa-solid fa-plus"></i> Add Property
          </button>
        </div>
      </form>
    </div>
  </div>
</section>

<style>
  @media (max-width: 768px) {
    [style*='grid-template-columns: 1fr 1fr'] {
      grid-template-columns: 1fr !important;
    }
  }
</style>
