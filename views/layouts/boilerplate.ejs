<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Stayora | Luxury Homestays</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <link rel="icon" href="/logo/icon.png" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="/css/style.css" />
    <link
      href="https://api.mapbox.com/mapbox-gl-js/v3.17.0/mapbox-gl.css"
      rel="stylesheet"
    />
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.17.0/mapbox-gl.js"></script>

    <style>
      /* Luxury Theme Variables */
      :root {
        --primary-dark: #2d2a26; /* Deep charcoal from reference */
        --accent-gold: #c5a059; /* Elegant gold tone */
        --cream-bg: #f9f7f2; /* Soft off-white background */
        --serif-font: 'Playfair Display', serif;
        --sans-font: 'Inter', sans-serif;
      }

      body {
        font-family: var(--sans-font);
        background-color: #fff;
        color: var(--primary-dark);
        overflow-x: hidden;
      }

      h1,
      h2,
      h3,
      .navbar-brand {
        font-family: var(--serif-font);
        font-weight: 700;
      }

      /* Container adjustment for a more spacious, premium feel */
      .main-content {
        min-height: 80vh;
      }

      /* Custom Scrollbar for Luxury Look */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: var(--cream-bg);
      }
      ::-webkit-scrollbar-thumb {
        background: var(--accent-gold);
        border-radius: 10px;
      }
    </style>
  </head>

  <body>
    <%- include("../includes/navbar.ejs") %>

    <div
      class="container mt-3"
      style="max-width: 1100px; position: relative; z-index: 1050"
    >
      <%- include("../includes/flash") %>
    </div>

    <main class="main-content"><%- body %></main>

    <%- include("../includes/footer.ejs") %>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      window.addEventListener('scroll', () => {
        const nav = document.querySelector('.navbar');
        if (window.scrollY > 50) {
          nav?.classList.add('scrolled', 'shadow-sm');
        } else {
          nav?.classList.remove('scrolled', 'shadow-sm');
        }
      });
    </script>

    <script>
      (() => {
        'use strict';
        const forms = document.querySelectorAll('.needs-validation');
        Array.from(forms).forEach((form) => {
          form.addEventListener(
            'submit',
            (event) => {
              if (!form.checkValidity()) {
                event.preventDefault();
                event.stopPropagation();
              }
              form.classList.add('was-validated');
            },
            false
          );
        });
      })();
    </script>

    <script>
      setTimeout(() => {
        const flashes = document.querySelectorAll('.alert');
        flashes.forEach((f) => {
          f.style.transition = 'opacity 0.5s ease';
          f.style.opacity = '0';
          setTimeout(() => f.remove(), 500);
        });
      }, 3500);
    </script>
  </body>
</html>
